{"version":3,"sources":["webpack:///./src/views/Timeline.vue?4458","webpack:///./src/views/Timeline.vue?ddb6","webpack:///src/views/Timeline.vue","webpack:///./src/views/Timeline.vue?1189","webpack:///./src/views/Timeline.vue?bc00"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Timeline_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Timeline_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticStyle","height","staticClass","padding","attrs","offset-y","scopedSlots","_u","key","fn","ref","on","_g","color","left","_v","user","role","click","$event","filterTagsReset","_e","_l","participant","id","filterTags","userID","_s","username","display","justify-content","font-size","margin-top","formattedTime","flex-direction","align-items","overflow-x","text-align","width","position","name","activeIndexStyle","backgroundColor","style","moment","utc","time","roomInfos","startClass","format","closeModal","tag","index","showModal","value","slider","striped","reactive","margin","disabled","timerState","start","pause","stop","staticRenderFns","Timelinevue_type_script_lang_js_","data","classDuration","tags","tagsRef","activeIndex","participants","currentTimer","ticker","undefined","sliderTicker","mounted","$store","state","route","params","roomID","fetchRoom","fetchParticipants","computed","Object","objectSpread","vuex_esm","tagsStyle","_this","map","top","concat","cursor","tagModal","_this2","justifyContent","borderRadius","methods","_this3","http","get","then","_ref","err","console","log","status","roomData","roomTags","content2","_roomData$content1$","content1","endClass","authorID","authorFirstname","authorLastname","authorUsername","title","push","filter","roomTag","catch","_this4","_ref2","results","particiants","activeStyle","splice","tick","sliderTick","window","clearInterval","_this5","setInterval","formatTime","seconds","measuredTime","Date","setSeconds","HMSTime","toISOString","substr","_this6","views_Timelinevue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-a86eb644.b419d25b.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Timeline.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Timeline.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticStyle:{\"height\":\"inherit\"}},[_c('div',{staticClass:\"text-center\",staticStyle:{\"padding\":\"40px 9% 0\"}},[_c('v-menu',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"color\":\"#463e54\"}},on),[_c('v-icon',{staticStyle:{\"color\":\"#f6f6e5\"},attrs:{\"left\":\"\"}},[_vm._v(\"expand_more\")]),_c('span',{staticStyle:{\"color\":\"#f6f6e5\"}},[_vm._v(\"Participants\")])],1)]}}])},[(this.user.role === 'teacher')?_c('v-list',[_c('v-list-tile',{on:{\"click\":function($event){return _vm.filterTagsReset()}}},[_vm._v(\"all\")])],1):_vm._e(),_vm._l((_vm.participants),function(participant){return _c('v-list',{key:participant.id},[_c('v-list-tile',{on:{\"click\":function($event){return _vm.filterTags(participant.userID)}}},[_vm._v(_vm._s(participant.username))])],1)})],2)],1),_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"center\",\"color\":\"#f6f6e5\"}},[_c('div',{staticStyle:{\"padding\":\"0 9%\",\"font-size\":\"30px\",\"margin-top\":\"5vh\"}},[_vm._v(_vm._s(_vm.formattedTime))])]),_c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"justify-content\":\"flex-end\",\"align-items\":\"center\",\"height\":\"40%\"}},[_c('div',{staticStyle:{\"overflow-x\":\"auto\",\"text-align\":\"center\",\"width\":\"80%\",\"position\":\"relative\",\"height\":\"225px\"}},[_c('div',{staticClass:\"timeline\"},[_c('transition',{attrs:{\"name\":\"fade\"}},[(this.activeIndexStyle[0].backgroundColor === 'blue')?_c('div',{key:\"blue\",style:(this.activeIndexStyle[0])},[_c('div',[_c('p',{staticStyle:{\"padding\":\"20px 10px 0\"}},[_vm._v(\"At \"+_vm._s(_vm.moment.utc(((this.activeIndexStyle[0].time - this.roomInfos[0].startClass)) * 1000).format('HH:mm:ss'))+\":\")]),_c('p',[_vm._v(_vm._s(this.activeIndexStyle[0].username))]),_c('p',{staticStyle:{\"padding\":\"0 10px 10px\"}},[_vm._v(\"had a question\")])]),_c('v-icon',{staticClass:\"alignCancel\",on:{\"click\":function($event){return _vm.closeModal()}}},[_vm._v(\"cancel\")])],1):(this.activeIndexStyle[0].backgroundColor === 'red')?_c('div',{key:\"red\",style:(this.activeIndexStyle[0])},[_c('div',[_c('p',{staticStyle:{\"padding\":\"20px 10px 0\"}},[_vm._v(\"At \"+_vm._s(_vm.moment.utc(((this.activeIndexStyle[0].time - this.roomInfos[0].startClass)) * 1000).format('HH:mm:ss'))+\":\")]),_c('p',[_vm._v(_vm._s(this.activeIndexStyle[0].username))]),_c('p',{staticStyle:{\"padding\":\"0 10px 10px\"}},[_vm._v(\"didn't understand\")])]),_c('v-icon',{staticClass:\"alignCancel\",on:{\"click\":function($event){return _vm.closeModal()}}},[_vm._v(\"cancel\")])],1):(this.activeIndexStyle[0].backgroundColor === 'yellow')?_c('div',{key:\"yellow\",style:(this.activeIndexStyle[0])},[_c('div',[_c('p',{staticStyle:{\"padding\":\"20px 10px 0\"}},[_vm._v(\"At \"+_vm._s(_vm.moment.utc(((this.activeIndexStyle[0].time - this.roomInfos[0].startClass)) * 1000).format('HH:mm:ss'))+\":\")]),_c('p',[_vm._v(_vm._s(this.activeIndexStyle[0].username))]),_c('p',{staticStyle:{\"padding\":\"0 10px 10px\"}},[_vm._v(\"needs more infos\")])]),_c('v-icon',{staticClass:\"alignCancel\",on:{\"click\":function($event){return _vm.closeModal()}}},[_vm._v(\"cancel\")])],1):(this.activeIndexStyle[0].backgroundColor === 'green')?_c('div',{key:\"green\",style:(this.activeIndexStyle[0])},[_c('div',[_c('p',{staticStyle:{\"padding\":\"20px 10px 0\"}},[_vm._v(\"At \"+_vm._s(_vm.moment.utc(((this.activeIndexStyle[0].time - this.roomInfos[0].startClass)) * 1000).format('HH:mm:ss'))+\":\")]),_c('p',[_vm._v(_vm._s(this.activeIndexStyle[0].username))]),_c('p',{staticStyle:{\"padding\":\"0 10px 10px\"}},[_vm._v(\"loves it !\")])]),_c('v-icon',{staticClass:\"alignCancel\",on:{\"click\":function($event){return _vm.closeModal()}}},[_vm._v(\"cancel\")])],1):_c('div',{style:(this.activeIndexStyle[0])})]),_vm._l((_vm.tagsStyle),function(tag,index){return _c('div',{key:tag.id,style:(tag),on:{\"click\":function($event){return _vm.showModal(index)}}})}),_c('v-progress-linear',{attrs:{\"height\":\"15\",\"value\":_vm.slider,\"striped\":\"\",\"color\":\"light-blue\",\"reactive\":\"\"}})],2)])]),_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"center\",\"margin\":\"20px 9%\"}},[_c('v-btn',{staticClass:\"success btnrectangle\",attrs:{\"disabled\":this.timerState === 'running'},on:{\"click\":function($event){return _vm.start()}}},[_vm._v(\"\\n       Play\\n       \")]),_c('v-btn',{staticClass:\"info  btnrectangle\",attrs:{\"disabled\":this.timerState === 'stopped' || this.timerState === 'paused'},on:{\"click\":function($event){return _vm.pause()}}},[_vm._v(\"\\n       Pause\\n       \")]),_c('v-btn',{staticClass:\"error  btnrectangle\",attrs:{\"disabled\":this.timerState === 'stopped'},on:{\"click\":function($event){return _vm.stop()}}},[_vm._v(\"\\n       Stop\\n       \")])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n <div>\n    <div style=\"height: inherit\">\n      <div class=\"text-center\" style=\"padding: 40px 9% 0;\">\n        <v-menu offset-y>\n          <template v-slot:activator=\"{ on }\">\n            <v-btn\n              color=\"#463e54\"\n              v-on=\"on\"\n            ><v-icon style=\"color: #f6f6e5\" left>expand_more</v-icon>\n            <span style=\"color: #f6f6e5\">Participants</span>\n            </v-btn>\n          </template>\n          <v-list v-if=\"this.user.role === 'teacher'\">\n            <v-list-tile @click=\"filterTagsReset()\">all</v-list-tile>\n          </v-list>\n          <v-list v-for=\"participant in participants\" :key=\"participant.id\">\n            <v-list-tile @click=\"filterTags(participant.userID)\">{{ participant.username }}</v-list-tile>\n          </v-list>\n        </v-menu>\n      </div>\n      <div style=\"display: flex; justify-content: center; color: #f6f6e5\">\n        <div style=\"padding: 0 9%; font-size: 30px; margin-top: 5vh;\">{{ formattedTime }}</div>\n      </div>\n      <div style=\"display: flex; flex-direction: column; justify-content: flex-end; align-items: center; height: 40%;\">\n        <div style=\"overflow-x: auto; text-align: center; width: 80%; position: relative; height: 225px\">\n          <div class=\"timeline\">\n            <transition name=\"fade\">\n              <div v-if=\"this.activeIndexStyle[0].backgroundColor === 'blue'\" key=\"blue\" :style=\"this.activeIndexStyle[0]\">\n                <div>\n                  <p style=\"padding: 20px 10px 0;\">At {{ moment.utc(((this.activeIndexStyle[0].time - this.roomInfos[0].startClass)) * 1000).format('HH:mm:ss') }}:</p>\n                  <p>{{ this.activeIndexStyle[0].username }}</p>\n                  <p style=\"padding: 0 10px 10px;\">had a question</p>\n                </div>\n                <v-icon class=\"alignCancel\" @click=\"closeModal()\">cancel</v-icon>\n              </div>\n              <div v-else-if=\"this.activeIndexStyle[0].backgroundColor === 'red'\" key=\"red\" :style=\"this.activeIndexStyle[0]\">\n                <div>\n                  <p style=\"padding: 20px 10px 0;\">At {{ moment.utc(((this.activeIndexStyle[0].time - this.roomInfos[0].startClass)) * 1000).format('HH:mm:ss') }}:</p>\n                  <p>{{ this.activeIndexStyle[0].username }}</p>\n                  <p style=\"padding: 0 10px 10px;\">didn't understand</p>\n                </div>\n                <v-icon class=\"alignCancel\" @click=\"closeModal()\">cancel</v-icon>\n              </div>\n              <div v-else-if=\"this.activeIndexStyle[0].backgroundColor === 'yellow'\" key=\"yellow\" :style=\"this.activeIndexStyle[0]\">\n                <div>\n                  <p style=\"padding: 20px 10px 0;\">At {{ moment.utc(((this.activeIndexStyle[0].time - this.roomInfos[0].startClass)) * 1000).format('HH:mm:ss') }}:</p>\n                  <p>{{ this.activeIndexStyle[0].username }}</p>\n                  <p style=\"padding: 0 10px 10px;\">needs more infos</p>\n                </div>\n                <v-icon class=\"alignCancel\" @click=\"closeModal()\">cancel</v-icon>\n              </div>\n              <div v-else-if=\"this.activeIndexStyle[0].backgroundColor === 'green'\" key=\"green\" :style=\"this.activeIndexStyle[0]\">\n                <div>\n                  <p style=\"padding: 20px 10px 0;\">At {{ moment.utc(((this.activeIndexStyle[0].time - this.roomInfos[0].startClass)) * 1000).format('HH:mm:ss') }}:</p>\n                  <p>{{ this.activeIndexStyle[0].username }}</p>\n                  <p style=\"padding: 0 10px 10px;\">loves it !</p>\n                </div>\n                <v-icon class=\"alignCancel\" @click=\"closeModal()\">cancel</v-icon>\n              </div>\n              <div v-else :style=\"this.activeIndexStyle[0]\"></div>\n            </transition>\n            <div v-for=\"(tag, index) in tagsStyle\" :key=\"tag.id\" :style=\"tag\" @click=\"showModal(index)\"></div>\n            <v-progress-linear\n              height=\"15\"\n              :value=\"slider\"\n              striped\n              color=\"light-blue\"\n              reactive\n            ></v-progress-linear>\n          </div>\n        </div>\n      </div>\n      <div style=\"display: flex; justify-content: center; margin: 20px 9%;\">\n        <v-btn\n        class=\"success btnrectangle\"\n        @click=\"start()\"\n        :disabled=\"this.timerState === 'running'\"\n        >\n        Play\n        </v-btn>\n        <v-btn\n        class=\"info  btnrectangle\"\n        @click=\"pause()\"\n        :disabled=\"this.timerState === 'stopped' || this.timerState === 'paused'\"\n        >\n        Pause\n        </v-btn>\n        <v-btn\n        class=\"error  btnrectangle\"\n        @click=\"stop()\"\n        :disabled=\"this.timerState === 'stopped'\"\n        >\n        Stop\n        </v-btn>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport HTTP from '../http';\n\nexport default {\n  name: 'Timeline',\n  data() {\n    return {\n      roomInfos: [],\n      classDuration: '',\n      tags: [],\n      tagsRef: [],\n      activeIndex: '',\n      activeIndexStyle: [{}],\n      participants: [],\n      timerState: 'stopped',\n      currentTimer: 0,\n      formattedTime: '00:00:00',\n      ticker: undefined,\n      sliderTicker: undefined,\n      slider: 0,\n    };\n  },\n\n  mounted() {\n    // permet de récupérer l'id de la room présente dans l'url\n    const id = this.$store.state.route.params.roomID;\n    this.fetchRoom(id);\n    this.fetchParticipants(id);\n  },\n\n  computed: {\n    ...mapState('authentication', [\n      'user',\n    ]),\n\n    tagsStyle() {\n      return this.tags.map(tag => ({\n        ...tag,\n        backgroundColor: tag.color,\n        top: '-30px',\n        left: `${(((tag.time - this.roomInfos[0].startClass) * (5400 / this.classDuration)) / 54)}%`, // calcul de la position du tag en pourcentage par rapport à son timestamp : (tag timestamp- timestamp du début du cours) * (width de la div de la timeline (ici définie à 1800px) / durée du cours en secondes). Et ce résultat est divisé par la width de la div / 100 pour obtenir un nombre correspondant à un pourcentage de distance par rapport au début de la div donc du cours\n        height: '20px',\n        width: '5px',\n        position: 'absolute',\n        cursor: 'pointer',\n      }));\n    },\n\n    tagModal() {\n      return this.tags.map(tag => ({\n        ...tag,\n        color: 'black',\n        backgroundColor: tag.color,\n        user: `${tag.userID}`,\n        top: '-160px',\n        height: '100px',\n        width: '250px',\n\n        position: 'absolute',\n        left: `${(((tag.time - this.roomInfos[0].startClass) * (5400 / this.classDuration) - 125) / 54)}%`,\n        display: 'flex',\n        justifyContent: 'space-around',\n        borderRadius: '15px',\n      }));\n    },\n  },\n\n  methods: {\n    fetchRoom(roomID) {\n      HTTP().get(`/rooms/timeline/${roomID}`, {\n\n      })\n        .then(({ data, err }) => {\n          if (err) {\n            console.log(err);\n          } else if (data.status === 200) {\n            const roomData = data;\n            const roomTags = roomData.content2;\n            // tagsRef est le tableau de référence non mutable qui contient tous les tags de la room\n            this.tagsRef = roomTags;\n            const {\n              startClass, endClass, authorID, authorFirstname, authorLastname, authorUsername, title,\n            } = roomData.content1[0];\n\n            this.roomInfos.push({\n              roomID,\n              authorID,\n              authorFirstname,\n              authorLastname,\n              authorUsername,\n              title,\n              startClass,\n              endClass,\n            });\n\n            // calcule la durée du cours\n            const classDuration = endClass - startClass;\n            this.classDuration = classDuration;\n\n            // condition qui détermine les tags à afficher suivant le role du user: le professeur (teacher) a accès à tous les tags de tous les participants à la classe (room). Un élève n'a accès qu'à ses données (tags) propres\n            if (this.user.role === 'teacher') {\n              this.tags = roomTags;\n              console.log('this tags teacher', this.tags);\n            } else if (this.user.role === 'student') {\n              this.tags = roomTags.filter(roomTag => roomTag.userID === this.user.userID);\n              console.log('userID', this.user.userID);\n              console.log('student tags', this.tags);\n            }\n          }\n        })\n        .catch(() => {\n          // ne marche pas...les erreurs sont attrapées dans le else if précédent...to fix\n\n        });\n    },\n\n    fetchParticipants(roomID) {\n      HTTP().get(`/rooms/participants/${roomID}`, {\n      })\n        .then(({ data, err }) => {\n          if (err) {\n            console.log(err);\n          } else if (data.status === 200) {\n            const participants = data.results;\n\n            // filtre l'affichage des participants à la classe en fonction du rôle du user: si le user est un professeur (teacher) tous les participants à la classe seront affichés dans la liste. Si le user est un élève (student), seul son nom sera affiché dans la liste\n            if (this.user.role === 'teacher') {\n              this.participants = participants;\n              console.log('techaer role this particpants', this.particiants);\n            } else if (this.user.role === 'student') {\n              this.participants = participants.filter(participant => participant.userID === this.user.userID);\n              console.log('array particpants filtered', this.participants);\n            }\n          }\n        })\n        .catch(() => {\n          // ne marche pas...les erreurs sont attrapées dans le else if précédent...to fix\n        });\n    },\n\n    // affiche le modal correspondant au tag cliqué\n    showModal(index) {\n      this.activeIndex = index;\n      // stocke l'élément du tableau de modal correspondant à l'index de l'élément séléctionné dans le tableau des tags\n      const activeStyle = this.tagModal[this.activeIndex];\n      // l'élément isolé est poussé dans le tableau activeIndexStyle si celui ci est vide, sinon on remplace l'élément présent par le nvl élément séléctionné\n      if (this.activeIndexStyle[0]) {\n        this.activeIndexStyle.splice(0, 1, activeStyle);\n      } else this.activeIndexStyle.push(activeStyle);\n\n      this.activeIndexStyle[0].display = 'flex';\n    },\n\n    // ferme le modal\n    closeModal() {\n      this.activeIndexStyle[0].display = 'none';\n    },\n\n    filterTags(id) {\n      console.log('participantsID', id);\n      this.tags = this.tagsRef;\n      this.tags = this.tags.filter(tag => tag.userID === id);\n      console.log('new tags', this.tags);\n    },\n\n    filterTagsReset() {\n      this.tags = this.tagsRef;\n    },\n\n    // démarre le timer et la progress bar\n    start() {\n      if (this.timerState !== 'running') {\n        this.tick();\n        this.sliderTick();\n        this.timerState = 'running';\n      }\n    },\n    // pause le timer et la progress bar\n    pause() {\n      window.clearInterval(this.ticker);\n      window.clearInterval(this.sliderTicker);\n      this.timerState = 'paused';\n    },\n    // reset le timer et la progress bar\n    stop() {\n      window.clearInterval(this.ticker);\n      window.clearInterval(this.sliderTicker);\n      this.currentTimer = 0;\n      this.slider = 0;\n      this.formattedTime = '00:00:00';\n      this.timerState = 'stopped';\n    },\n    // incrémente le timer toutes les secondes\n    tick() {\n      this.ticker = setInterval(() => {\n        this.currentTimer += 1;\n        this.formattedTime = this.formatTime(this.currentTimer);\n      }, 1000);\n      if (this.currentTimer === this.classDuration) {\n        this.pause();\n      }\n    },\n    // passe les secondes et les formatte\n    formatTime(seconds) {\n      const measuredTime = new Date(null);\n      measuredTime.setSeconds(seconds);\n      // formate les secondes en heures:minutes:secondes\n      const HMSTime = measuredTime.toISOString().substr(11, 8);\n      return HMSTime;\n    },\n    // incrémente la valeur de la progress bar\n    sliderTick() {\n      this.sliderTicker = setInterval(() => {\n        this.slider += (1 / 30);\n      }, 100);\n    },\n  },\n};\n</script>\n\n<style>\n.btnrectangle {\n  min-width: 0;\n  width: 80px;\n  height: 30px;\n}\n  .timeline {\n      position: relative;\n      top: 77%;\n      width: 5400px;\n      margin: auto;\n      margin-top: 1%;\n      margin-bottom: 5%;\n  }\n  .alignCancel {\n    padding: 0 5px 25px 0;\n    cursor: pointer;\n    color: black\n  }\n  .fade-enter-active, .fade-leave-active {\n  transition: opacity 1s;\n  }\n  .fade-enter, .fade-leave-to /* .fade-leave-active below version 2.1.8 */ {\n  opacity: 0;\n  }\n  p{\n    margin-bottom: 0;\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Timeline.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Timeline.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Timeline.vue?vue&type=template&id=44f22655&\"\nimport script from \"./Timeline.vue?vue&type=script&lang=js&\"\nexport * from \"./Timeline.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Timeline.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}