(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-18369868"],{"1bb5":function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-container",{staticClass:"container"},[s("div",{staticStyle:{width:"auto"}},[s("div",{staticStyle:{margin:"3%"}},[s("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[s("v-btn",t._g({staticClass:"btnRectangle",attrs:{color:"#463e54"}},o),[s("v-icon",{attrs:{left:""}},[t._v("expand_more")]),s("span",[t._v("Filter by")])],1)]}}])},[s("v-list",[s("v-list-tile",{on:{click:function(e){return t.fetchRooms()}}},[t._v("Date of creation")]),s("v-list-tile",{on:{click:function(e){return t.fetchRoomsByDate()}}},[t._v("Class start Date")]),s("v-list-tile",{on:{click:function(e){return t.fetchRoomsOfTheDay()}}},[t._v("Classes of the day")]),s("v-list-tile",{on:{click:function(e){return t.fetchMyRooms(t.user.userID)}}},[t._v("My Classes")])],1)],1)],1),s("div",{staticStyle:{display:"flex","flex-wrap":"wrap","justify-content":"space-around"}},t._l(t.paginatedDatas,function(e,o){return s("div",{key:e.id},[s("v-card",{staticClass:"elevation-24"},[s("v-img",{attrs:{height:"110px",src:"https://cdn.vuetifyjs.com/images/cards/docks.jpg"}},[s("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[t.isBeforeTime(o)&&"teacher"===t.user.role?s("v-btn",{staticClass:"elevation-24",attrs:{id:"Edit"}},[s("v-icon",{staticStyle:{border:"purple",color:"black"}},[t._v("edit")])],1):t._e(),t.isBeforeTime(o)&&"teacher"===t.user.role?s("v-btn",{staticClass:"elevation-24",attrs:{id:"Delete"}},[s("v-icon",{staticStyle:{color:"black"}},[t._v("delete")])],1):t._e(),s("v-btn",{staticClass:"elevation-24",attrs:{id:"OpenCard"},on:{click:function(e){return t.toogleOpening()}}},[s("v-icon",{staticStyle:{color:"black"}},[t._v("swap_vertical_circle")])],1)],1),s("v-card-title",{staticStyle:{color:"white","font-size":"15px",overflow:"auto","text-transform":"uppercase"}},[t._v(t._s(e.title)+"\n              ")])],1),s("v-layout",{staticStyle:{"margin-top":"15px"}},[s("v-flex",[s("h3",{staticStyle:{padding:"15px"}},[t._v("teacher: "+t._s(e.authorUsername))])]),s("v-spacer"),s("v-spacer"),s("v-flex",{staticStyle:{"align-self":"center","padding-right":"15px"}},[s("v-avatar",{attrs:{size:"56px"}},[s("img",{attrs:{src:"https://avatars0.githubusercontent.com/u/9064066?v=4&s=460",alt:"Avatar"}})])],1)],1),s("div",{staticClass:"hiddenInfos",class:{visibleInfos:t.isOpen}},[s("h3",{staticStyle:{"padding-left":"15px",margin:"20px 0 10px"}},[t._v("Day:  "+t._s(t.moment(1e3*e.startClass).format("Do MMM")))]),s("div",{staticStyle:{display:"flex",margin:"10px 0"}},[s("div",{staticStyle:{"padding-left":"15px"}},[t._v("begining at: "+t._s(t.moment(1e3*e.startClass).format("HH mm"))+" ")]),s("div",{staticStyle:{"padding-left":"15px"}},[t._v("finishing at: "+t._s(t.moment(1e3*e.endClass).format("HH mm"))+"\n                  ")])]),s("h3",{staticStyle:{"padding-left":"15px"}},[t._v("Subject: ")]),s("p",{staticStyle:{height:"60px",width:"210px",overflow:"auto",padding:"5px 15px 15px 15px","margin-bottom":"0"}},[t._v(t._s(e.description))])]),s("v-layout",{attrs:{"justify-space-around":""}},[s("div",[t.isValidTime(o)?s("v-btn",{staticClass:"btnRectangle",on:{click:function(s){return t.join(e.roomID,e.title,e.authorID,e.authorLastname,e.authorFirstname)}}},[t._v("Join\n                ")]):s("v-btn",{staticClass:"btnCard",on:{click:function(s){return t.viewRoom(e.roomID)}}},[t._v("View")])],1)])],1),s("br")],1)}),0),s("div",{staticStyle:{display:"flex","justify-content":"space-between",margin:"3%"}},[s("v-btn",{staticClass:"btnRectangle",attrs:{disabled:0===t.pageNumber},on:{click:t.prevPage}},[t._v("\n            Previous\n        ")]),s("v-btn",{staticClass:"btnRectangle",attrs:{disabled:t.pageNumber>=t.pageCount-1},on:{click:t.nextPage}},[t._v("\n            Next\n        ")])],1)])])],1)},i=[],a=s("0a0d"),n=s.n(a),c=s("cebc"),r=s("2f62"),l={name:"roomsList",data:function(){return{roomInfos:[],pageNumber:0,size:6,isOpen:!1}},mounted:function(){console.log("mounted rooms",this.rooms),!1===this.isConnected?(this.$socket.open(),this.connect(),console.log("opening socket"),console.log("user looged in",this.isLoggedIn)):console.log("user logged ?",this.isLoggedIn),this.fetchRooms()},computed:Object(c["a"])({},Object(r["e"])("rooms",["rooms"]),Object(r["e"])("authentication",["user"]),Object(r["c"])("authentication",["isLoggedIn","isConnected"]),{pageCount:function(){console.log(this.rooms.length);var t=this.rooms.length,e=this.size;return Math.ceil(t/e)},paginatedDatas:function(){var t=this.pageNumber*this.size,e=t+this.size;return console.log("paginated rooms",this.rooms),this.rooms.slice(t,e)}}),methods:Object(c["a"])({},Object(r["d"])("rooms",["setRooms"]),Object(r["b"])("rooms",["fetchRooms","fetchRoomsByDate","fetchRoomsOfTheDay","fetchMyRooms","connect"]),{join:function(t,e,s,o,i){console.log("room name :",e),console.log("author :",s),console.log("author last name",o),this.$socket.emit("join",{roomID:t,roomName:e,createdBy:s,authorLastname:o,authorFirstname:i}),this.user?"student"===this.user.role?this.$router.push("/student/".concat(t)):"teacher"===this.user.role&&this.$router.push("/teacher/".concat(t)):alert("unauthorized: you are not authentified")},viewRoom:function(t){this.$router.push("/room/".concat(t))},roomCreation:function(t){console.log("room creation data",t),this.roomInfos.push(t)},isValidTime:function(t){console.log("i ==",t);var e=n()()/1e3;return console.log("date",e),e>this.paginatedDatas[t].startClass&&e<this.paginatedDatas[t].endClass},isBeforeTime:function(t){var e=n()()/1e3;return e<this.paginatedDatas[t].startClass},nextPage:function(){this.pageNumber+=1},prevPage:function(){this.pageNumber-=1},toogleOpening:function(){this.isOpen=!this.isOpen,console.log(this.isOpen)}})},u=l,d=(s("c474"),s("2877")),m=Object(d["a"])(u,o,i,!1,null,"acb80d6c",null);e["default"]=m.exports},c474:function(t,e,s){"use strict";var o=s("e307"),i=s.n(o);i.a},e307:function(t,e,s){}}]);
//# sourceMappingURL=chunk-18369868.a8312e27.js.map