(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1784d7de"],{"024b":function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{"fill-height":""}},[s("v-layout",{staticStyle:{height:"auto"},attrs:{"align-center":"","justify-center":""}},[s("TeacherDisplay")],1)],1)},o=[],r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"1s"}},[n("v-container",{staticStyle:{display:"flex","justify-content":"space-around"}},[n("div",[n("h3",[e._v("TEACHER: ")]),n("p",[e._v(e._s(this.roomInfos.authorFirstname)+" "+e._s(this.roomInfos.authorLastname))]),n("h3",[e._v("CLASS:  ")]),n("p",[e._v(e._s(this.roomInfos.roomName))])]),n("v-btn",{attrs:{color:"red"},on:{click:function(t){return e.closeRoom(e.user.username)}}},[e._v("close")])],1),n("v-container",{staticClass:"test",staticStyle:{height:"100%",display:"flex","justify-content":"space-around","flex-wrap":"wrap","margin-top":"0px"}},[n("div",[e.alerts.includes("red")?n("div",[n("RedBtn",{staticClass:"wiggle"})],1):n("div",{staticClass:"elevation-24"},[n("GreenBtn")],1),n("audio",{attrs:{id:"audio",controls:"",loop:""}},[n("source",{attrs:{src:s("06bf"),type:"audio/mpeg"}}),e._v("\n      Your browser does not support the audio element.\n      ")]),n("br"),n("br")]),n("div",{staticClass:"elevation-24",attrs:{id:"chatbox"}},e._l(e.messages,function(t){return n("div",{key:t.id,staticStyle:{padding:"5px 0"}},[n("p",{staticStyle:{margin:"5px 0"}},[e._v(e._s(t))])])}),0)])],1)},i=[],a=s("0a0d"),l=s.n(a),c=(s("ac6a"),s("cebc")),u=s("2f62"),m=s("c1df"),d=s.n(m),f=s("41cb"),h=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},g=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"button btnRed textAlign"},[e._v("I DON'T GET IT")])])}],p={name:"RedBtn"},v=p,b=(s("349b"),s("2877")),T=Object(b["a"])(v,h,g,!1,null,null,null),y=T.exports,_=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},L=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"elevation-24 btn btnGreen textAlign"},[e._v("Everything's ok")])])}],S={name:"GreenBtn"},E=S,x=(s("5cde"),Object(b["a"])(E,_,L,!1,null,null,null)),C=x.exports,A={name:"TeacherDisplay",components:{RedBtn:y,GreenBtn:C},data:function(){return{messages:[],roomInfos:"",welcomes:[],alerts:[],events:[],students:[],teacher:[],host:[]}},mounted:function(){this.scrollToBottom()},updated:function(){this.scrollToBottom()},computed:Object(c["a"])({},Object(u["e"])("authentication",["user"]),Object(u["c"])("authentication",["isLoggedIn","isConnected"])),beforeDestroy:function(){this.$socket.close()},sockets:{joiningEvent:function(e){console.log("data :",e.roomData);var t=e.roomData.roomName;console.log("room",t),this.roomInfos=e.roomData,console.log("this.roomInfos",this.roomInfos);var s={username:e.username,id:e.user_id,role:e.user_role},n=this.user.userID,o=e.user_id;console.log("logged user id",n),console.log("conncected user id",o),o===n?this.messages.push("You've joined ".concat(t)):this.messages.push(e.message),"teacher"===s.role?this.teacher.push(s):"student"===s.role&&this.students.push(s)},leavingEvent:function(e){this.messages.push(e.message),this.students=this.students.filter(function(t){return t.id!==e.user_id})},roomCreation:function(e){console.log("room creation data",e),this.roomInfos.push(e)},event:function(e){var t=this;if(this.events.push({tag:e.color,timestamp:e.time,username:e.username}),"blue"===e.color){this.alerts.push(e.color);var s=d()(e.time).format("HH:mm:ss");console.log("time",s),this.messages.push("At ".concat(s,": ").concat(e.username," has a question ")),window.navigator.vibrate(6e3),setTimeout(this.resetAlerts(),6e3)}console.log("this alert tags()",this.alertTags()),console.log("this alerts",this.alerts),console.log(e),this.alertTags()&&this.alertTags().forEach(function(e){var s=t.alerts;s.push(e),t.playAudio(),setTimeout(function(){t.resetAlerts(),t.pauseAudio()},6e3),t.events=t.events.filter(function(t){return t.tag!==e})})}},methods:{scrollToBottom:function(){var e=document.getElementById("chatbox");e.scrollTop=e.scrollHeight},alertTags:function(){var e=this;return["green","yellow","red"].filter(function(t){return e.events.filter(function(e){return l()()-e.timestamp<3e4}).filter(function(e){return e.tag===t}).length>e.students.length/2})},closeRoom:function(){console.log("ferme cours",this.user.username),alert("Vous allez fermer ce cours");var e=this.user.username;this.$socket.emit("closeRoom",console.log("socket emit fermeture",this.user.username),{username:e}),f["a"].push("/about")},resetAlerts:function(){var e=this.alerts;console.log("reset this alerts",e),console.log("setime out"),e.splice(0,1)},playAudio:function(){var e=document.getElementById("audio");e.play()},pauseAudio:function(){var e=document.getElementById("audio");e.pause(),e.currentTime=0}}},I=A,w=(s("3915"),Object(b["a"])(I,r,i,!1,null,"66913be9",null)),D=w.exports,k={components:{TeacherDisplay:D},name:"Teacher"},B=k,j=Object(b["a"])(B,n,o,!1,null,null,null);t["default"]=j.exports},"06bf":function(e,t,s){e.exports=s.p+"media/Wrong-alert-beep-sound.579e2f7c.mp3"},"349b":function(e,t,s){"use strict";var n=s("491f"),o=s.n(n);o.a},3915:function(e,t,s){"use strict";var n=s("e3fe"),o=s.n(n);o.a},"491f":function(e,t,s){},"4d15":function(e,t,s){},"5cde":function(e,t,s){"use strict";var n=s("4d15"),o=s.n(n);o.a},ac6a:function(e,t,s){for(var n=s("cadf"),o=s("0d58"),r=s("2aba"),i=s("7726"),a=s("32e9"),l=s("84f2"),c=s("2b4c"),u=c("iterator"),m=c("toStringTag"),d=l.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=o(f),g=0;g<h.length;g++){var p,v=h[g],b=f[v],T=i[v],y=T&&T.prototype;if(y&&(y[u]||a(y,u,d),y[m]||a(y,m,v),l[v]=d,b))for(p in n)y[p]||r(y,p,n[p],!0)}},e3fe:function(e,t,s){}}]);
//# sourceMappingURL=chunk-1784d7de.bc19a098.js.map