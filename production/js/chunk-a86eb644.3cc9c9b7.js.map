{"version":3,"sources":["webpack:///./src/views/Timeline.vue?4458","webpack:///./src/views/Timeline.vue?7ec1","webpack:///src/views/Timeline.vue","webpack:///./src/views/Timeline.vue?1189","webpack:///./src/views/Timeline.vue?bc00"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Timeline_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Timeline_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticStyle","height","staticClass","padding","attrs","offset-y","scopedSlots","_u","key","fn","ref","on","_g","color","left","_v","user","role","click","$event","filterTagsReset","_e","_l","participant","id","filterTags","userID","_s","username","display","flex-direction","justify-content","align-items","overflow-x","text-align","width","position","name","activeIndexStyle","backgroundColor","style","moment","utc","time","roomInfos","startClass","format","closeModal","tag","index","showModal","staticRenderFns","Timelinevue_type_script_lang_js_","data","classDuration","tags","tagsRef","activeIndex","participants","mounted","$store","state","route","params","roomID","fetchRoom","fetchParticipants","computed","Object","objectSpread","vuex_esm","tagsStyle","_this","map","top","concat","cursor","tagModal","_this2","justifyContent","borderRadius","methods","_this3","http","get","then","_ref","err","console","log","status","roomData","roomTags","content2","_roomData$content1$","content1","endClass","authorID","authorFirstname","authorLastname","authorUsername","title","push","filter","roomTag","catch","_this4","_ref2","results","particiants","activeStyle","splice","views_Timelinevue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-a86eb644.3cc9c9b7.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Timeline.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Timeline.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticStyle:{\"height\":\"inherit\"}},[_c('div',{staticClass:\"text-center\",staticStyle:{\"padding\":\"40px 9% 0\"}},[_c('v-menu',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"color\":\"#463e54\"}},on),[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"expand_more\")]),_c('span',[_vm._v(\"Participants\")])],1)]}}])},[(this.user.role === 'teacher')?_c('v-list',[_c('v-list-tile',{on:{\"click\":function($event){return _vm.filterTagsReset()}}},[_vm._v(\"all\")])],1):_vm._e(),_vm._l((_vm.participants),function(participant){return _c('v-list',{key:participant.id},[_c('v-list-tile',{on:{\"click\":function($event){return _vm.filterTags(participant.userID)}}},[_vm._v(_vm._s(participant.username))])],1)})],2)],1),_c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"justify-content\":\"flex-end\",\"align-items\":\"center\",\"height\":\"80%\"}},[_c('div',{staticStyle:{\"overflow-x\":\"auto\",\"text-align\":\"center\",\"width\":\"80%\",\"position\":\"relative\",\"height\":\"275px\"}},[_c('div',{staticClass:\"timeline\"},[_c('transition',{attrs:{\"name\":\"fade\"}},[(this.activeIndexStyle[0].backgroundColor === 'blue')?_c('div',{key:\"blue\",style:(this.activeIndexStyle[0])},[_c('div',[_c('p',{staticStyle:{\"padding\":\"20px 10px 0\"}},[_vm._v(\"At \"+_vm._s(_vm.moment.utc(((this.activeIndexStyle[0].time - this.roomInfos[0].startClass)) * 1000).format('HH:mm:ss'))+\":\")]),_c('p',[_vm._v(_vm._s(this.activeIndexStyle[0].username))]),_c('p',{staticStyle:{\"padding\":\"0 10px 10px\"}},[_vm._v(\"had a question\")])]),_c('v-icon',{staticClass:\"alignCancel\",on:{\"click\":function($event){return _vm.closeModal()}}},[_vm._v(\"cancel\")])],1):(this.activeIndexStyle[0].backgroundColor === 'red')?_c('div',{key:\"red\",style:(this.activeIndexStyle[0])},[_c('div',[_c('p',{staticStyle:{\"padding\":\"20px 10px 0\"}},[_vm._v(\"At \"+_vm._s(_vm.moment.utc(((this.activeIndexStyle[0].time - this.roomInfos[0].startClass)) * 1000).format('HH:mm:ss'))+\":\")]),_c('p',[_vm._v(_vm._s(this.activeIndexStyle[0].username))]),_c('p',{staticStyle:{\"padding\":\"0 10px 10px\"}},[_vm._v(\"didn't understand\")])]),_c('v-icon',{staticClass:\"alignCancel\",on:{\"click\":function($event){return _vm.closeModal()}}},[_vm._v(\"cancel\")])],1):(this.activeIndexStyle[0].backgroundColor === 'yellow')?_c('div',{key:\"yellow\",style:(this.activeIndexStyle[0])},[_c('div',[_c('p',{staticStyle:{\"padding\":\"20px 10px 0\"}},[_vm._v(\"At \"+_vm._s(_vm.moment.utc(((this.activeIndexStyle[0].time - this.roomInfos[0].startClass)) * 1000).format('HH:mm:ss'))+\":\")]),_c('p',[_vm._v(_vm._s(this.activeIndexStyle[0].username))]),_c('p',{staticStyle:{\"padding\":\"0 10px 10px\"}},[_vm._v(\"needs more infos\")])]),_c('v-icon',{staticClass:\"alignCancel\",on:{\"click\":function($event){return _vm.closeModal()}}},[_vm._v(\"cancel\")])],1):(this.activeIndexStyle[0].backgroundColor === 'green')?_c('div',{key:\"green\",style:(this.activeIndexStyle[0])},[_c('div',[_c('p',{staticStyle:{\"padding\":\"20px 10px 0\"}},[_vm._v(\"At \"+_vm._s(_vm.moment.utc(((this.activeIndexStyle[0].time - this.roomInfos[0].startClass)) * 1000).format('HH:mm:ss'))+\":\")]),_c('p',[_vm._v(_vm._s(this.activeIndexStyle[0].username))]),_c('p',{staticStyle:{\"padding\":\"0 10px 10px\"}},[_vm._v(\"loves it !\")])]),_c('v-icon',{staticClass:\"alignCancel\",on:{\"click\":function($event){return _vm.closeModal()}}},[_vm._v(\"cancel\")])],1):_c('div',{style:(this.activeIndexStyle[0])})]),_vm._l((_vm.tagsStyle),function(tag,index){return _c('div',{key:tag.id,style:(tag),on:{\"click\":function($event){return _vm.showModal(index)}}})})],2)])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n <div>\n    <div style=\"height: inherit\">\n      <div class=\"text-center\" style=\"padding: 40px 9% 0;\">\n        <v-menu offset-y>\n          <template v-slot:activator=\"{ on }\">\n            <v-btn\n              color=\"#463e54\"\n              v-on=\"on\"\n            ><v-icon left>expand_more</v-icon>\n            <span>Participants</span>\n            </v-btn>\n          </template>\n          <v-list v-if=\"this.user.role === 'teacher'\">\n            <v-list-tile @click=\"filterTagsReset()\">all</v-list-tile>\n          </v-list>\n          <v-list v-for=\"participant in participants\" :key=\"participant.id\">\n            <v-list-tile @click=\"filterTags(participant.userID)\">{{ participant.username }}</v-list-tile>\n          </v-list>\n        </v-menu>\n      </div>\n      <div style=\"display: flex; flex-direction: column; justify-content: flex-end; align-items: center; height: 80%;\">\n        <div style=\"overflow-x: auto; text-align: center; width: 80%; position: relative; height: 275px\">\n          <div class=\"timeline\">\n            <transition name=\"fade\">\n              <div v-if=\"this.activeIndexStyle[0].backgroundColor === 'blue'\" key=\"blue\" :style=\"this.activeIndexStyle[0]\">\n                <div>\n                  <p style=\"padding: 20px 10px 0;\">At {{ moment.utc(((this.activeIndexStyle[0].time - this.roomInfos[0].startClass)) * 1000).format('HH:mm:ss') }}:</p>\n                  <p>{{ this.activeIndexStyle[0].username }}</p>\n                  <p style=\"padding: 0 10px 10px;\">had a question</p>\n                </div>\n                <v-icon class=\"alignCancel\" v-on:click=\"closeModal()\">cancel</v-icon>\n              </div>\n              <div v-else-if=\"this.activeIndexStyle[0].backgroundColor === 'red'\" key=\"red\" :style=\"this.activeIndexStyle[0]\">\n                <div>\n                  <p style=\"padding: 20px 10px 0;\">At {{ moment.utc(((this.activeIndexStyle[0].time - this.roomInfos[0].startClass)) * 1000).format('HH:mm:ss') }}:</p>\n                  <p>{{ this.activeIndexStyle[0].username }}</p>\n                  <p style=\"padding: 0 10px 10px;\">didn't understand</p>\n                </div>\n                <v-icon class=\"alignCancel\" v-on:click=\"closeModal()\">cancel</v-icon>\n              </div>\n              <div v-else-if=\"this.activeIndexStyle[0].backgroundColor === 'yellow'\" key=\"yellow\" :style=\"this.activeIndexStyle[0]\">\n                <div>\n                  <p style=\"padding: 20px 10px 0;\">At {{ moment.utc(((this.activeIndexStyle[0].time - this.roomInfos[0].startClass)) * 1000).format('HH:mm:ss') }}:</p>\n                  <p>{{ this.activeIndexStyle[0].username }}</p>\n                  <p style=\"padding: 0 10px 10px;\">needs more infos</p>\n                </div>\n                <v-icon class=\"alignCancel\" v-on:click=\"closeModal()\">cancel</v-icon>\n              </div>\n              <div v-else-if=\"this.activeIndexStyle[0].backgroundColor === 'green'\" key=\"green\" :style=\"this.activeIndexStyle[0]\">\n                <div>\n                  <p style=\"padding: 20px 10px 0;\">At {{ moment.utc(((this.activeIndexStyle[0].time - this.roomInfos[0].startClass)) * 1000).format('HH:mm:ss') }}:</p>\n                  <p>{{ this.activeIndexStyle[0].username }}</p>\n                  <p style=\"padding: 0 10px 10px;\">loves it !</p>\n                </div>\n                <v-icon class=\"alignCancel\" v-on:click=\"closeModal()\">cancel</v-icon>\n              </div>\n              <div v-else :style=\"this.activeIndexStyle[0]\"></div>\n            </transition>\n            <div v-for=\"(tag, index) in tagsStyle\" :key=\"tag.id\" :style=\"tag\" v-on:click=\"showModal(index)\"></div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport HTTP from '../http';\n\nexport default {\n  name: 'Timeline',\n  data() {\n    return {\n      roomInfos: [],\n      classDuration: '',\n      tags: [],\n      tagsRef: [],\n      activeIndex: '',\n      activeIndexStyle: [{}],\n      participants: [],\n    };\n  },\n\n  mounted() {\n    // permet de récupérer l'id de la room présente dans l'url\n    const id = this.$store.state.route.params.roomID;\n    this.fetchRoom(id);\n    this.fetchParticipants(id);\n  },\n\n  computed: {\n    ...mapState('authentication', [\n      'user',\n    ]),\n\n    tagsStyle() {\n      return this.tags.map(tag => ({\n        ...tag,\n        backgroundColor: tag.color,\n        top: '-30px',\n        left: `${(((tag.time - this.roomInfos[0].startClass) * (5400 / this.classDuration)) / 54)}%`, // calcul de la position du tag en pourcentage par rapport à son timestamp : (tag timestamp- timestamp du début du cours) * (width de la div de la timeline (ici définie à 1800px) / durée du cours en secondes). Et ce résultat est divisé par la width de la div / 100 pour obtenir un nombre correspondant à un pourcentage de distance par rapport au début de la div donc du cours\n        height: '20px',\n        width: '5px',\n        position: 'absolute',\n        cursor: 'pointer',\n      }));\n    },\n\n    tagModal() {\n      return this.tags.map(tag => ({\n        ...tag,\n        color: 'black',\n        backgroundColor: tag.color,\n        user: `${tag.userID}`,\n        top: '-160px',\n        height: '100px',\n        width: '250px',\n\n        position: 'absolute',\n        left: `${(((tag.time - this.roomInfos[0].startClass) * (5400 / this.classDuration) - 125) / 54)}%`,\n        display: 'flex',\n        justifyContent: 'space-around',\n        borderRadius: '15px',\n      }));\n    },\n  },\n\n  methods: {\n    fetchRoom(roomID) {\n      HTTP().get(`/rooms/timeline/${roomID}`, {\n\n      })\n        .then(({ data, err }) => {\n          if (err) {\n            console.log(err);\n          } else if (data.status === 200) {\n            const roomData = data;\n            const roomTags = roomData.content2;\n            // tagsRef est le tableau de référence non mutable qui contient tous les tags de la room\n            this.tagsRef = roomTags;\n            const {\n              startClass, endClass, authorID, authorFirstname, authorLastname, authorUsername, title,\n            } = roomData.content1[0];\n\n            this.roomInfos.push({\n              roomID,\n              authorID,\n              authorFirstname,\n              authorLastname,\n              authorUsername,\n              title,\n              startClass,\n              endClass,\n            });\n\n            // calcule la durée du cours\n            const classDuration = endClass - startClass;\n            this.classDuration = classDuration;\n\n            // condition qui détermine les tags à afficher suivant le role du user: le professeur (teacher) a accès à tous les tags de tous les participants à la classe (room). Un élève n'a accès qu'à ses données (tags) propres\n            if (this.user.role === 'teacher') {\n              this.tags = roomTags;\n              console.log('this tags teacher', this.tags);\n            } else if (this.user.role === 'student') {\n              this.tags = roomTags.filter(roomTag => roomTag.userID === this.user.userID);\n              console.log('userID', this.user.userID);\n              console.log('student tags', this.tags);\n            }\n          }\n        })\n        .catch(() => {\n          // ne marche pas...les erreurs sont attrapées dans le else if précédent...to fix\n\n        });\n    },\n\n    fetchParticipants(roomID) {\n      HTTP().get(`/rooms/participants/${roomID}`, {\n      })\n        .then(({ data, err }) => {\n          if (err) {\n            console.log(err);\n          } else if (data.status === 200) {\n            const participants = data.results;\n\n            // filtre l'affichage des participants à la classe en fonction du rôle du user: si le user est un professeur (teacher) tous les participants à la classe seront affichés dans la liste. Si le user est un élève (student), seul son nom sera affiché dans la liste\n            if (this.user.role === 'teacher') {\n              this.participants = participants;\n              console.log('techaer role this particpants', this.particiants);\n            } else if (this.user.role === 'student') {\n              this.participants = participants.filter(participant => participant.userID === this.user.userID);\n              console.log('array particpants filtered', this.participants);\n            }\n          }\n        })\n        .catch(() => {\n          // ne marche pas...les erreurs sont attrapées dans le else if précédent...to fix\n        });\n    },\n\n    // affiche le modal correspondant au tag cliqué\n    showModal(index) {\n      this.activeIndex = index;\n      // stocke l'élément du tableau de modal correspondant à l'index de l'élément séléctionné dans le tableau des tags\n      const activeStyle = this.tagModal[this.activeIndex];\n      // l'élément isolé est poussé dans le tableau activeIndexStyle si celui ci est vide, sinon on remplace l'élément présent par le nvl élément séléctionné\n      if (this.activeIndexStyle[0]) {\n        this.activeIndexStyle.splice(0, 1, activeStyle);\n      } else this.activeIndexStyle.push(activeStyle);\n\n      this.activeIndexStyle[0].display = 'flex';\n    },\n\n    // ferme le modal\n    closeModal() {\n      this.activeIndexStyle[0].display = 'none';\n    },\n\n    filterTags(id) {\n      console.log('participantsID', id);\n      this.tags = this.tagsRef;\n      this.tags = this.tags.filter(tag => tag.userID === id);\n      console.log('new tags', this.tags);\n    },\n    filterTagsReset() {\n      this.tags = this.tagsRef;\n    },\n  },\n};\n</script>\n\n<style>\n  .timeline {\n      position: relative;\n      top: 60%;\n      border: 1px solid #000;\n      width: 5400px;\n      margin: auto;\n      margin-top: 1%;\n      margin-bottom: 5%;\n  }\n  .alignCancel {\n    padding: 0 5px 25px 0;\n    cursor: pointer;\n    color: black\n  }\n  .fade-enter-active, .fade-leave-active {\n  transition: opacity 1s;\n  }\n  .fade-enter, .fade-leave-to /* .fade-leave-active below version 2.1.8 */ {\n  opacity: 0;\n  }\n  p{\n    margin-bottom: 0;\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Timeline.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Timeline.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Timeline.vue?vue&type=template&id=02b88f5a&\"\nimport script from \"./Timeline.vue?vue&type=script&lang=js&\"\nexport * from \"./Timeline.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Timeline.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}