{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/helpers/db.connexion.js","webpack:///./src/helpers/jwt.js","webpack:///./src/index.js","webpack:///./src/routes/index.js","webpack:///./src/routes/login.js","webpack:///./src/routes/realtime.js","webpack:///./src/routes/users.js","webpack:///external \"cors\"","webpack:///external \"dotenv/config\"","webpack:///external \"express\"","webpack:///external \"jsonwebtoken\"","webpack:///external \"morgan\"","webpack:///external \"mysql\"","webpack:///external \"socket.io\""],"names":["mysql","require","connection","createConnection","host","user","password","database","connect","err","console","log","query","result","module","exports","secretKey","process","env","key","issue","payload","expiresIn","jwt","sign","express","socket","cors","morgan","app","port","PORT","server","listen","use","static","io","json","urlencoded","extended","realtimeRouter","userRouter","loginRouter","on","emit","id","data","username","room","userId","join","broadcast","to","secret","Router","post","req","res","email","body","results","status","send","token","courseName","description","get","fields","message","content","firstname","lastname","avatarUrl","university","role"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","'user strict'\n\nconst mysql = require('mysql');\n\nconst connection = mysql.createConnection({\n  host: \"localhost\",\n  user: \"root\",\n  password: \"\",\n  database: \"OmnivizTest\",\n});\n\nconnection.connect(function(err) {\n  if (err) throw err;\n  console.log(\"DB Connected!\");\n\n  // crÃ©ation de la dB\n  connection.query(\"CREATE DATABASE IF NOT EXISTS OmnivizTest CHARACTER SET 'utf8'\", function (err, result) {\n    if (err) throw err;\n    console.log(\"database created\");\n  });\n\n  connection.query(\"CREATE TABLE IF NOT EXISTS OmnivizTest.users (userID INT NOT NULL UNIQUE AUTO_INCREMENT, username VARCHAR(50) NOT NULL UNIQUE, email VARCHAR(250) NOT NULL UNIQUE, createdat TIMESTAMP, firstname VARCHAR(255) NOT NULL, lastname VARCHAR(255) NOT NULL, avatarUrl VARCHAR(500), university VARCHAR(255), password VARCHAR(40) NOT NULL, role VARCHAR(30))\", function(err, result) {\n    if (err) throw err;\n    console.log(\"Table users created\")\n  })\n});\n\nmodule.exports = connection","import jwt from 'jsonwebtoken';\nimport \"dotenv/config\";\n\nconst secretKey = process.env.key\n\nexport default {\n\n    //Sign Token\n    issue(payload, expiresIn){\n      return jwt.sign(payload, secretKey, {expiresIn: 10800})\n  }\n}","const express = require ('express');\nconst socket = require ('socket.io');\nconst cors = require('cors');\nconst morgan = require('morgan');\n\nconst app = express();\nconst port = process.env.PORT || 5000;\nconst server = app.listen(port, () => console.log(`server is running on port ${port}`));\n\nimport { realtimeRouter } from './routes/index';\nimport { userRouter } from './routes/users';\nimport { loginRouter } from './routes/login';\n\n\n//static files\napp.use(express.static('public'));\n\n// Socket Setup\nconst io = socket(server);\n\napp.use(morgan('combined'));\napp.use(cors());\n\napp.use(express.json());\napp.use(express.urlencoded({ extended: true }));\n\napp.use('/realtime', realtimeRouter);\napp.use('/users', userRouter);\napp.use('/login', loginRouter);\n\n\nio.on('connection', function(socket){\n  socket.on('connect', function() {\n    io.emit('user connected');\n  });\n  socket.on('disconnect', function () {\n    io.emit('user disconnected');\n  });\n  console.log('socket connected', socket.id)\n  socket.emit('messageChannel', 'hello')\n  socket.on('pingServer', (data) => {\n    console.log(data)\n  })\n  socket.on('join', (data) => {\n    console.log('username: ', data.username);\n    console.log('room: ', data.room)\n    console.log('id: ', socket.id)\n    const user = data.username;\n    const room = data.room;\n    const userId = socket.id;\n    socket.emit('roomCreation', {\n    user: user,\n    room: room,\n    userId: userId\n    });\n    socket.join(room, console.log(`${user} has joined ${room}`));\n    socket.emit('joiningEvent', `${user} has joined the room ${room}`);\n    socket.broadcast.to(room).emit('joiningEvent', `${user} has joined the room ${room}`);\n    })\n  });\n","export { realtimeRouter } from './realtime';\nexport { userRouter } from './users';\nexport { loginRouter } from './login';\n","import express from 'express'\nimport jwt from '../helpers/jwt';\n\nimport 'dotenv/config';\nimport connection from '../helpers/db.connexion';\n\nconst secret = process.env.key;\n\nexport const loginRouter = express.Router();\n\n\nloginRouter.post('/', (req, res) => {\n\n  const { password, email } = req.body\n\n  // const user = _users.find((user) => user.username === req.body.username);\n  let query = `SELECT * FROM users WHERE email = '${email}'`;\n\n  connection.query(query, (err, results) => {\n\n    if(!results) return res.status(404).send('User not found')\n      if(results[0].password !== password) return res.status(404).send('Password incorrect')\n\n      const token = jwt.issue({\n        email\n      }, secret, {expiresIn: 18000})\n      console.log(token)\n      res.json({'token': token})\n    })\n})","import express from 'express';\n\n\nexport const realtimeRouter = express.Router();\n\nrealtimeRouter.post('/createCourse', (req, res) => {\n  const { username, courseName, description } = req.body;\n\n\n})\n","import express from 'express';\nimport connection from '../helpers/db.connexion';\nconst mysql = require('mysql')\n\nexport const userRouter = express.Router();\n\n\nuserRouter.get('/', (req, res) => {\n  connection.query('SELECT * FROM users ', (err, results, fields) => {\n    if (err) {\n      console.log(err);\n      res.status(400).send({ status: false, message: 'User not created'})\n      // res.send({\n      //   err\n      // })\n    }else {\n      console.log(results)\n      res.status(200).send({status: true, content: results});\n    }\n  });\n});\n\nuserRouter.post('/', (req, res) => {\n  let body = req.body;\n  let email = body.email;\n  let username = body.username;\n  let password = body.password;\n  let firstname = body.firstname;\n  let lastname = body.lastname;\n  let avatarUrl = body.avatarUrl;\n  let university = body.university;\n  let role = body.role;\n\n  if (!email || !password) {\n    res.status(412).send('Email and password are missing')\n  }else{\n\n    let query = `INSERT INTO users (email, username, password, firstname, lastname, avatarUrl, university, role) VALUES ('${email}', '${username}', '${password}', '${firstname}', '${lastname}', '${avatarUrl}', '${university}', '${role}')`;\n\n    connection.query(query, (err, results, fields) => {\n      if (err) {\n        console.log(err);\n        res.status(400).send({ status: false, message: 'User not created'})\n        // res.send({\n        //   err\n        // })\n      }else{\n        console.log(results);\n        res.send({\n          status:200,\n          \"success\":\"new user registered sucessfully\",\n          content: results\n        });\n      }\n    })\n  }\n})","module.exports = require(\"cors\");","module.exports = require(\"dotenv/config\");","module.exports = require(\"express\");","module.exports = require(\"jsonwebtoken\");","module.exports = require(\"morgan\");","module.exports = require(\"mysql\");","module.exports = require(\"socket.io\");"],"sourceRoot":""}